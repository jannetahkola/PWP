spring:
  hateoas:
    use-hal-as-default-json-media-type: false
  datasource:
    url: jdbc:h2:mem:palikka_users_db
  sql:
    init:
      # specify a different file than the default 'data.sql' to prevent seeding during tests
      # todo test if setting this to empty in test config is enough
      data-locations: classpath:seed.sql
  jpa:
    # let hibernate create the schema before seed data is inserted
    # see https://www.baeldung.com/spring-boot-h2-database#2-hibernate-and-datasql
    defer-datasource-initialization: true
    hibernate:
      ddl-auto: update
palikka:
  jwt:
    keystore:
      signing:
        path: file:keystore-dev.p12
        pass: password
        type: pkcs12
      verification:
        path: file:truststore-dev.p12
        pass: password
        type: pkcs12
    token:
      user:
        issuer: palikka-dev-usr
        signing:
          key-alias: jwt-usr
          key-pass: password
          validity-time: 1h
      system:
        issuer: palikka-dev-sys
        signing:
          key-alias: jwt-sys
          key-pass: password
          validity-time: 10s